<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:McpClient.ViewModels"
             xmlns:views="clr-namespace:McpClient.Views"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="600"
             x:Class="McpClient.Views.MainView"
             x:DataType="vm:MainViewModel">
    <Design.DataContext>
		<vm:MainViewModel/>
    </Design.DataContext>
    <UserControl.Styles>
        <!-- Make TextBlocks with the h1 style class have a font size of 24 points -->
        <Style Selector="Button.main">
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="Gray"/>
            <Setter Property="Width" Value="200"/>
            <Setter Property="Height" Value="80"/>
        </Style>
    </UserControl.Styles>

	<Grid>
        <DockPanel Name="MainPanel" >
            <StackPanel Orientation="Vertical" HorizontalAlignment="Left" Width="240" Margin="0,0,0,0" DockPanel.Dock="Left" Background="{DynamicResource SystemListMediumColor}">
				<views:Logo Height="80" Margin="16,16,16,20"/>
				<ListBox Classes="MainList" Name="MainListbox" ItemsSource="{Binding MainItems}" SelectionChanged="MainListbox_OnSelectionChanged">
					<ListBox.ItemTemplate>
						<DataTemplate>
							<Panel Height="28">
								<TextBlock Text="{Binding Icon}" VerticalAlignment="Center"/>
								<TextBlock Margin="24,0,0,0" Text="{Binding Text}" VerticalAlignment="Center"/>
							</Panel>
						</DataTemplate>
					</ListBox.ItemTemplate>
				</ListBox>
		    </StackPanel>
            <Panel Name="CenterPanel">
				<views:TaskGroupList Name="MyAppList"/>
				<views:TaskOfflineWorkflowList Name="OfflineWorkflowList" IsVisible="False"/>
				<views:McpSetting Name="AgentList" IsVisible="False"/>
                <views:Chat Name="Chat" IsVisible="False" TokenExpired="Chat_OnTokenExpired"/>
                <views:McpStore Name="McpStore" IsVisible="False"/>
                <!--<views:McpSetting Name="McpSetting" IsVisible="False"/>-->
                <views:SystemSetting Name="SystemSetting" IsVisible="False"/>
            </Panel>
        </DockPanel>
        <Button Name="BtnShowMonitor" Margin="4,0,0,4" Click="BtnShowMonitor_OnClick" VerticalAlignment="Bottom">Monitor</Button>
        <Button Name="BtnLogout" Click="BtnLogout_OnClick" Margin="80,0,0,4" VerticalAlignment="Bottom">Logout</Button>
        <Button Name="BtnUpdate" Click="BtnUpdate_OnClick" Margin="150,0,0,4" VerticalAlignment="Bottom" IsVisible="False">Update !</Button>
        <ToggleSwitch Content="Dark Mode" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="20" IsChecked="{Binding IsNightMode, Mode=TwoWay}"/>
    </Grid>
</UserControl>
